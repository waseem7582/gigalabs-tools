var G=(a,g,d)=>new Promise((f,C)=>{var t=u=>{try{h(d.next(u))}catch(c){C(c)}},v=u=>{try{h(d.throw(u))}catch(c){C(c)}},h=u=>u.done?f(u.value):Promise.resolve(u.value).then(t,v);h((d=d.apply(a,g)).next())});import{b as R,d as z,M as Ce,aa as ye,O as be,n as Se,j as m,L as Oe,r,o as b,c as O,a3 as k,a4 as A,u as o,f as n,p as y,w as i,l as ke,N as xe,aB as Ee,a8 as I,cb as se,cA as Ie,ab as we,cB as Le,cC as Ne,F as K,q,g as Q,t as Y,am as H,v as Te,x as Ae,i as Fe,E as J,$ as Be,Q as He}from"./index-67a30bc6.js";import{C as Pe}from"./index-6cc1c3b3.js";import{l as $e,c as W}from"./index-9e9f2d34.js";import{a as Re,b as ze,l as De}from"./plugin-463a9df8.js";import{i as D}from"./icon-99a136c4.js";import{p as Me,f as Ve,a as Ue,c as je}from"./index-24dedbe0.js";import{u as M,C as P,a as X}from"./chartLayoutStore-340d4435.js";import{P as w,h as L,u as Ge}from"./chartEditStore-8254eca3.js";import"./theme-color-0deb5eeb.js";import"./_arrayMap-23a2d4b9.js";import"./tables_list-7cb7cb60.js";import"./http-630f50b2.js";import"./SettingItemBox-a2ea547e.js";/* empty css                                                                   */import"./CollapseItem-92fb7302.js";const Ke={class:"go-chart-common"},qe={class:"chart-content-list"},Qe=z({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(a){const g=a,d=$e(()=>Ce(()=>import("./index-223d7d30.js"),["static/js/index-223d7d30.js","static/css/index-597833d4.css","static/css/SettingItemBox.vue_vue_type_style_index_0_scoped_true_lang-180d0bf1.css","static/js/index-e19a4a2c.js","static/css/index-2ce6d63c.css","static/js/index-67a30bc6.js","static/css/index-c34cea1e.css","static/js/icon-99a136c4.js","static/js/chartEditStore-8254eca3.js","static/js/plugin-463a9df8.js","static/js/chartLayoutStore-340d4435.js","static/js/index-9e9f2d34.js","static/css/index-b7971fa3.css","static/js/theme-color-0deb5eeb.js","static/js/index-24dedbe0.js","static/css/index-a281e674.css","static/js/_arrayMap-23a2d4b9.js","static/js/tables_list-7cb7cb60.js","static/js/http-630f50b2.js","static/js/SettingItemBox-a2ea547e.js","static/js/CollapseItem-92fb7302.js"])),f=ye(),C=be(()=>t.categorysNum>2?!0:!f.getHidePackageOneCategory);let t=Se({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const v=m(),h=c=>{for(const s in c){t.selectOptions=c[s];break}};Oe(()=>g.selectOptions,c=>{if(t.categorysNum=0,!!c){c.list.forEach(s=>{const _=t.categorys[s.category];t.categorys[s.category]=_&&_.length?[..._,s]:[s],t.categoryNames[s.category]=s.categoryName,t.categorys.all.push(s)});for(const s in t.categorys)t.categorysNum+=1,t.menuOptions.push({key:s,label:t.categoryNames[s]});h(t.categorys),v.value=t.menuOptions[0].key}},{immediate:!0});const u=c=>{t.selectOptions=t.categorys[c]};return(c,s)=>{const _=r("n-menu"),x=r("n-scrollbar");return b(),O("div",Ke,[k(n(_,{class:"chart-menu-width",value:v.value,"onUpdate:value":[s[0]||(s[0]=F=>v.value=F),u],options:o(t).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[A,o(C)]]),y("div",qe,[n(x,null,{default:i(()=>[n(o(d),{menuOptions:o(t).selectOptions},null,8,["menuOptions"])]),_:1})])])}}});var Ye=R(Qe,[["__scopeId","data-v-7e154677"]]);const Je=ke(),ne=m(Je.getAppTheme),{setItem:Z}=M(),{getCharts:$}=xe(M()),We=Ee({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(Me)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:Xe}=D.ionicons5,{TableSplitIcon:Ze,RoadmapIcon:et,SpellCheckIcon:tt,GraphicalDataFlowIcon:ot}=D.carbon,{getPackagesList:ee}=We(),S=[],te={[w.CHARTS]:{icon:I(et),label:L.CHARTS},[w.INFORMATIONS]:{icon:I(tt),label:L.INFORMATIONS},[w.TABLES]:{icon:I(Ze),label:L.TABLES},[w.DECORATES]:{icon:I(ot),label:L.DECORATES}},st=()=>{for(const a in ee)S.push({key:a,icon:te[a].icon,label:te[a].label,list:ee[a]})};st();let oe=S[0].key;const N=m(S[0].key),T=m(S[0]),nt=(a,g)=>{T.value=g,oe===a?Z(P.CHARTS,!$.value):Z(P.CHARTS,!0),oe=a};const at=a=>(Te("data-v-19a255b4"),a=a(),Ae(),a),ct={class:"go-chart-search-box"},lt={class:"search-list-box"},rt=["title","onClick"],it={class:"list-item-img",alt:"\u5C55\u793A\u56FE"},ut=at(()=>y("div",{class:"popover-modal"},null,-1)),pt=z({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(a){const g=a;se(e=>({dcfa13ca:o(ne)}));const d=Ge(),f=M(),{SearchIcon:C,AlbumsIcon:t,GridIcon:v}=D.ionicons5,h=m(!1),u=m(!1),c=m(void 0),s=m(null),_=m([]),x=m(f.getChartType),F=[{label:"\u5355\u5217",icon:t,value:X.SINGLE},{label:"\u53CC\u5217",icon:v,value:X.DOUBLE}],ae=(e=>{const l=[];for(const E of e)l.push(...E.list);return l})(g.menuOptions),B=()=>{c.value=void 0,u.value=!1,s.value=null,_.value=[]},ce=e=>{if(!Fe(e)||!e.length){B();return}c.value=!0,u.value=!0,_.value=ae.filter(l=>!e||l.title.toLowerCase().includes(e.toLowerCase())),setTimeout(()=>{c.value=void 0},500)},V=e=>{!u.value||!e.target||e.target.closest(".go-chart-search")||B()},le=e=>G(this,null,function*(){try{Re(),W(e.chartKey,Ve(e)),W(e.conKey,Ue(e));let l=yield je(e);d.addComponentList(l,!1,!0),d.setTargetSelectChart(l.id),B(),ze()}catch(l){De(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}}),U=e=>{h.value=e},re=e=>{x.value=e,f.setItem(P.Chart_TYPE,e)};return Ie(document,"click",e=>{V(e)}),we(()=>{Le(document,"click",V)}),(e,l)=>{const E=r("n-icon"),ie=r("n-input"),ue=r("n-input-group"),pe=r("n-empty"),de=r("n-text"),_e=r("n-scrollbar"),me=r("n-popover"),ge=r("n-tooltip"),ve=r("n-button"),he=r("n-button-group"),fe=Ne("lazy");return b(),O("div",ct,[y("div",{class:H(["chart-search go-transition",{"chart-search-focus":h.value}])},[n(me,{class:"chart-search-popover","show-arrow":!1,show:u.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:i(()=>[n(ue,null,{default:i(()=>[n(ie,{size:"small",placeholder:"\u641C\u7D22\u7EC4\u4EF6",value:s.value,"onUpdate:value":[l[0]||(l[0]=p=>s.value=p),ce],valueModifiers:{trim:!0},loading:c.value,onFocus:l[1]||(l[1]=p=>U(!0)),onBlur:l[2]||(l[2]=p=>U(!1))},{suffix:i(()=>[k(n(E,{component:o(C)},null,8,["component"]),[[A,!c.value]])]),_:1},8,["value","loading"])]),_:1})]),default:i(()=>[y("div",lt,[n(_e,{style:{"max-height":"500px"}},{default:i(()=>[k(n(pe,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[A,!_.value.length]]),(b(!0),O(K,null,q(_.value,p=>(b(),O("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:p.key,title:p.title,onClick:j=>le(p)},[k(y("img",it,null,512),[[fe,p.image]]),n(de,{class:"list-item-fs",depth:"2"},{default:i(()=>[Q(Y(p.title),1)]),_:2},1024)],8,rt))),128))]),_:1}),ut])]),_:1},8,["show"])],2),n(he,{class:H(["btn-group go-transition",{"btn-group-focus":h.value}]),style:{display:"flex"}},{default:i(()=>[(b(),O(K,null,q(F,(p,j)=>n(ve,{ghost:"",size:"small",key:j,type:x.value===p.value?"primary":"tertiary",onClick:ht=>re(p.value)},{default:i(()=>[n(ge,{"show-arrow":!1,trigger:"hover"},{trigger:i(()=>[n(E,{size:"14",component:p.icon},null,8,["component"])]),default:i(()=>[Q(" "+Y(p.label),1)]),_:2},1024)]),_:2},1032,["type","onClick"])),64))]),_:1},8,["class"])])}}});var dt=R(pt,[["__scopeId","data-v-19a255b4"]]);const _t={class:"menu-width-box"},mt={class:"menu-component-box"},gt=z({__name:"index",setup(a){return se(g=>({"21c50fc5":o(ne)})),(g,d)=>{const f=r("n-icon"),C=r("n-menu"),t=r("go-skeleton");return b(),J(o(Pe),{class:H(["go-content-charts",{scoped:!o($)}]),title:"\u7EC4\u4EF6",depth:1,backIcon:!1},{icon:i(()=>[n(f,{size:"14",depth:2},{default:i(()=>[n(o(Xe))]),_:1})]),"top-right":i(()=>[k(n(o(dt),{menuOptions:o(S)},null,8,["menuOptions"]),[[A,o($)]])]),default:i(()=>[y("aside",null,[y("div",_t,[n(C,{class:"menu-width",value:o(N),"onUpdate:value":[d[0]||(d[0]=v=>Be(N)?N.value=v:null),o(nt)],options:o(S),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),y("div",mt,[n(t,{load:!o(T),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),o(T)?(b(),J(o(Ye),{selectOptions:o(T),key:o(N)},null,8,["selectOptions"])):He("",!0)])])])]),_:1},8,["class"])}}});var Bt=R(gt,[["__scopeId","data-v-b66dbfc2"]]);export{Bt as default};
