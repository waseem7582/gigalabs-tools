var $=(n,g,r)=>new Promise((v,i)=>{var e=m=>{try{d(r.next(m))}catch(c){i(c)}},u=m=>{try{d(r.throw(m))}catch(c){i(c)}},d=m=>m.done?v(m.value):Promise.resolve(m.value).then(e,u);d((r=r.apply(n,g)).next())});import{b as H,d as P,M as oe,aa as se,O as ne,n as ae,j as h,L as ce,r as l,o as S,c as L,a3 as k,a4 as N,u as t,f as a,p as y,w as _,l as le,N as re,aB as ie,a8 as b,cc as q,cA as ue,ab as pe,cB as _e,cC as de,F as me,q as ge,g as ve,t as he,v as fe,x as Ce,i as ye,E as D,$ as Se,Q as Oe,am as ke}from"./index-5427279b.js";import{C as xe}from"./index-4153922e.js";import{l as be,c as z}from"./index-961888e8.js";import{a as Ee,b as Ie,l as we}from"./plugin-49832ae5.js";import{i as R}from"./icon-d6196121.js";import{u as G,C as V}from"./chartLayoutStore-9baa7ec7.js";import{P as E,h as I,u as Le}from"./chartEditStore-53dc1709.js";import{p as Fe,f as Ne,a as Ae,c as Te}from"./index-cd09e6dc.js";import"./theme-color-0deb5eeb.js";import"./_arrayMap-23a2d4b9.js";import"./tables_list-a7382472.js";import"./http-6ded690c.js";import"./SettingItemBox-35417b6f.js";/* empty css                                                                   */import"./CollapseItem-fd18501b.js";const Be={class:"go-chart-common"},He={class:"chart-content-list"},Pe=P({__name:"index",props:{selectOptions:{type:Object,default:()=>{}}},setup(n){const g=n,r=be(()=>oe(()=>import("./index-ac3166fa.js"),["static/js/index-ac3166fa.js","static/css/index-c437ff94.css","static/css/SettingItemBox.vue_vue_type_style_index_0_scoped_true_lang-180d0bf1.css","static/js/index-fd8838d6.js","static/css/index-2ce6d63c.css","static/js/index-5427279b.js","static/css/index-c34cea1e.css","static/js/icon-d6196121.js","static/js/chartEditStore-53dc1709.js","static/js/plugin-49832ae5.js","static/js/index-961888e8.js","static/css/index-8f2c5737.css","static/js/theme-color-0deb5eeb.js","static/js/index-cd09e6dc.js","static/css/index-3e66113d.css","static/js/_arrayMap-23a2d4b9.js","static/js/tables_list-a7382472.js","static/js/http-6ded690c.js","static/js/SettingItemBox-35417b6f.js","static/js/CollapseItem-fd18501b.js"])),v=se(),i=ne(()=>e.categorysNum>2?!0:!v.getHidePackageOneCategory);let e=ae({menuOptions:[],selectOptions:{},categorys:{all:[]},categoryNames:{all:"\u6240\u6709"},categorysNum:0,saveSelectOptions:{}});const u=h(),d=c=>{for(const o in c){e.selectOptions=c[o];break}};ce(()=>g.selectOptions,c=>{if(e.categorysNum=0,!!c){c.list.forEach(o=>{const f=e.categorys[o.category];e.categorys[o.category]=f&&f.length?[...f,o]:[o],e.categoryNames[o.category]=o.categoryName,e.categorys.all.push(o)});for(const o in e.categorys)e.categorysNum+=1,e.menuOptions.push({key:o,label:e.categoryNames[o]});d(e.categorys),u.value=e.menuOptions[0].key}},{immediate:!0});const m=c=>{e.selectOptions=e.categorys[c]};return(c,o)=>{const f=l("n-menu"),x=l("n-scrollbar");return S(),L("div",Be,[k(a(f,{class:"chart-menu-width",value:u.value,"onUpdate:value":[o[0]||(o[0]=A=>u.value=A),m],options:t(e).menuOptions,"icon-size":16,indent:18},null,8,["value","options"]),[[N,t(i)]]),y("div",He,[a(x,null,{default:_(()=>[a(t(r),{menuOptions:t(e).selectOptions},null,8,["menuOptions"])]),_:1})])])}}});var Re=H(Pe,[["__scopeId","data-v-145aa336"]]);const $e=le(),Q=h($e.getAppTheme),{setItem:U}=G(),{getCharts:B}=re(G()),De=ie({id:"usePackagesStore",state:()=>({packagesList:Object.freeze(Fe)}),getters:{getPackagesList(){return this.packagesList}}}),{BarChartIcon:ze}=R.ionicons5,{TableSplitIcon:Ve,RoadmapIcon:Ue,SpellCheckIcon:je,GraphicalDataFlowIcon:Me}=R.carbon,{getPackagesList:j}=De(),O=[],M={[E.CHARTS]:{icon:b(Ue),label:I.CHARTS},[E.INFORMATIONS]:{icon:b(je),label:I.INFORMATIONS},[E.TABLES]:{icon:b(Ve),label:I.TABLES},[E.DECORATES]:{icon:b(Me),label:I.DECORATES}},Ke=()=>{for(const n in j)O.push({key:n,icon:M[n].icon,label:M[n].label,list:j[n]})};Ke();let K=O[0].key;const w=h(O[0].key),F=h(O[0]),qe=(n,g)=>{F.value=g,K===n?U(V.CHARTS,!B.value):U(V.CHARTS,!0),K=n};const Ge=n=>(fe("data-v-62e5a942"),n=n(),Ce(),n),Qe={class:"go-chart-search"},Je={class:"search-list-box"},We=["title","onClick"],Xe={class:"list-item-img",alt:"\u5C55\u793A\u56FE"},Ye=Ge(()=>y("div",{class:"popover-modal"},null,-1)),Ze=P({__name:"index",props:{menuOptions:{type:Array,default:()=>[]}},setup(n){const g=n;q(s=>({"6ff2ac9c":t(Q)}));const{SearchIcon:r}=R.ionicons5,v=Le(),i=h(!1),e=h(void 0),u=h(null),d=h([]),c=(s=>{const p=[];for(const T of s)p.push(...T.list);return p})(g.menuOptions),o=()=>{e.value=void 0,i.value=!1,u.value=null,d.value=[]},f=s=>{if(!ye(s)||!s.length){o();return}e.value=!0,i.value=!0,d.value=c.filter(p=>!s||p.title.toLowerCase().includes(s.toLowerCase())),setTimeout(()=>{e.value=void 0},500)},x=s=>{!i.value||!s.target||s.target.closest(".go-chart-search")||o()},A=s=>$(this,null,function*(){try{Ee(),z(s.chartKey,Ne(s)),z(s.conKey,Ae(s));let p=yield Te(s);v.addComponentList(p,!1,!0),v.setTargetSelectChart(p.id),o(),Ie()}catch(p){we(),window.$message.warning("\u56FE\u8868\u6B63\u5728\u7814\u53D1\u4E2D, \u656C\u8BF7\u671F\u5F85...")}});return ue(document,"click",s=>{x(s)}),pe(()=>{_e(document,"click",x)}),(s,p)=>{const T=l("n-icon"),J=l("n-input"),W=l("n-input-group"),X=l("n-empty"),Y=l("n-text"),Z=l("n-scrollbar"),ee=l("n-popover"),te=de("lazy");return S(),L("div",Qe,[a(ee,{class:"chart-search-popover","show-arrow":!1,show:i.value,to:!1,trigger:"hover",placement:"bottom-start"},{trigger:_(()=>[a(W,null,{default:_(()=>[a(J,{value:u.value,"onUpdate:value":[p[0]||(p[0]=C=>u.value=C),f],valueModifiers:{trim:!0},size:"small",loading:e.value,placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u540D\u79F0"},{suffix:_(()=>[k(a(T,{component:t(r)},null,8,["component"]),[[N,!e.value]])]),_:1},8,["value","loading"])]),_:1})]),default:_(()=>[y("div",Je,[a(Z,{style:{"max-height":"500px"}},{default:_(()=>[k(a(X,{size:"small",description:"\u6CA1\u6709\u627E\u5230\u7EC4\u4EF6~"},null,512),[[N,!d.value.length]]),(S(!0),L(me,null,ge(d.value,C=>(S(),L("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:C.key,title:C.title,onClick:nt=>A(C)},[k(y("img",Xe,null,512),[[te,C.image]]),a(Y,{class:"list-item-fs",depth:"2"},{default:_(()=>[ve(he(C.title),1)]),_:2},1024)],8,We))),128))]),_:1}),Ye])]),_:1},8,["show"])])}}});var et=H(Ze,[["__scopeId","data-v-62e5a942"]]);const tt={class:"menu-width-box"},ot={class:"menu-component-box"},st=P({__name:"index",setup(n){return q(g=>({"21c50fc5":t(Q)})),(g,r)=>{const v=l("n-icon"),i=l("n-menu"),e=l("go-skeleton");return S(),D(t(xe),{class:ke(["go-content-charts",{scoped:!t(B)}]),title:"\u7EC4\u4EF6",depth:1,backIcon:!1},{icon:_(()=>[a(v,{size:"14",depth:2},{default:_(()=>[a(t(ze))]),_:1})]),"top-right":_(()=>[k(a(t(et),{menuOptions:t(O)},null,8,["menuOptions"]),[[N,t(B)]])]),default:_(()=>[y("aside",null,[y("div",tt,[a(i,{class:"menu-width",value:t(w),"onUpdate:value":[r[0]||(r[0]=u=>Se(w)?w.value=u:null),t(qe)],options:t(O),"icon-size":16,indent:18},null,8,["value","options","onUpdate:value"]),y("div",ot,[a(e,{load:!t(F),round:"",text:"",repeat:2,style:{width:"90%"}},null,8,["load"]),t(F)?(S(),D(t(Re),{selectOptions:t(F),key:t(w)},null,8,["selectOptions"])):Oe("",!0)])])])]),_:1},8,["class"])}}});var St=H(st,[["__scopeId","data-v-b66dbfc2"]]);export{St as default};
